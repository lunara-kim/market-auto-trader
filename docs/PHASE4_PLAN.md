# Phase 4: 프로덕션 준비 — 방향 옵션 정리

> Phase 3 (자동 매매 시스템 고도화) 완료 후, 실전 운영을 위한 Phase 4 로드맵입니다.

## 📊 현재 상태 (Phase 3 완료 기준)

| 항목 | 수치 |
|------|------|
| 총 PR | 31개 |
| 테스트 | 726 passed |
| 커버리지 | 95% |
| API 엔드포인트 | 20+ |
| 매매 전략 | 3종 (이동평균/RSI/볼린저밴드) + 복합 전략 |

---

## 🎯 Phase 4 옵션별 상세

### 옵션 A: 프론트엔드 대시보드 (추천 ⭐)

**왜:** 이미 백엔드 API가 풍부하게 구현되어 있어, 프론트엔드를 붙이면 즉시 사용 가능한 제품이 됨.

**기술 스택 후보:**
| 스택 | 장점 | 단점 |
|------|------|------|
| **Next.js + React** | SSR, 라우팅 내장, 에코시스템 풍부 | 번들 크기, 러닝커브 |
| **Vite + React** | 빠른 빌드, 가벼움 | SSR 별도 설정 필요 |
| **Streamlit** | Python만으로 가능, 빠른 프로토타입 | 커스터마이징 제한 |

**구현 범위 (3~5일):**
1. 실시간 포트폴리오 대시보드 (PnL, 보유종목, 비중 차트)
2. 전략 비교 / 백테스트 시각화 (Recharts or Chart.js)
3. 알림 설정 관리 UI (손절/목표가 CRUD)
4. 리밸런싱 내역 타임라인
5. 헬스체크 상태 모니터

**의존성:** 없음 (기존 API 활용)

---

### 옵션 B: 배포 환경 구축 (Docker Compose)

**왜:** 코드 머지 → 자동 배포 흐름이 있어야 운영 효율성 확보.

**구현 범위 (1~2일):**
1. GitHub Actions CD 워크플로우 (Docker 빌드 → 이미지 태깅)
2. 환경별 설정 분리 (`dev` / `prod`)
3. Docker multi-stage 빌드 최적화
4. **Docker Compose 기반 로컬 배포** (FastAPI + PostgreSQL + Redis 등)
5. 시크릿 관리 (`.env` + GitHub Secrets)

**의존성:** 없음

---

### 옵션 C: 관측성 (Observability)

**왜:** 운영 중 문제를 빠르게 감지하고 디버깅.

**구현 범위 (1~2일):**
1. Prometheus 메트릭 (`prometheus-fastapi-instrumentator`)
   - API 응답시간, 에러율, 요청 수
   - 거래 관련 커스텀 메트릭 (주문 수, 체결율 등)
2. Grafana 대시보드 (Docker Compose에 추가)
   - API 퍼포먼스 패널
   - 거래 활동 패널
   - 시스템 리소스 패널
3. 구조적 로깅 (JSON 형식, `structlog`)

**의존성:** 없음

---

## 🗺️ 추천 진행 순서

```
A (프론트엔드) → C (관측성) → B (배포)
   3~5일           1~2일        1~2일
```

**이유:**
1. **프론트엔드:** 가장 가시적인 성과, 실제 사용할 수 있는 UI
2. **관측성:** 운영 전 모니터링 체계 구축
3. **배포:** Docker Compose로 깔끔하게 원커맨드 실행

**총 예상 기간: 5~9일**

---

## 💡 은혜님 결정 필요 사항

1. **프론트엔드 스택 선호도** — Next.js vs Vite+React vs Streamlit?
2. **우선순위 조정** — 위 추천 순서 변경 여부?
3. **추가 기능 요청** — Phase 4에 추가하고 싶은 것?

---

_작성: 짱덕이 🐈‍⬛ | 2026-02-15 (수정: 2026-02-16)_
